(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{307:function(e,t,r){"use strict";r.r(t);r(60);var n={data:function(){return{user:{username:"",password:""}}},methods:{signIn:function(){var e=this,t="".concat("https://vue-course-api.hexschool.io","/admin/signin");this.$store.commit("LOADING",!0),this.$axios.post(t,this.user).then((function(t){if(t.data.success){var r=t.data.token,n=t.data.expired;e.$bus.$emit("message:push",t.data.message),document.cookie="hexToken=".concat(r,"; expires=").concat(new Date(n),";"),e.$router.push("/admin")}else e.$bus.$emit("message:push",t.data.message,"text-danger");e.$store.commit("LOADING",!1)}))}}},o=r(19),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page"},[r("div",{staticClass:"container-500 only-box-top"},[r("client-only",[r("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[r("form",{staticClass:"only-box",on:{submit:function(t){return t.preventDefault(),n(e.signIn)}}},[r("h1",{staticClass:"only-box-top__title"},[e._v("\n            請先登入\n          ")]),e._v(" "),r("div",{staticClass:"form-group"},[r("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.failed,o=t.passed,l=t.errors;return[r("label",{attrs:{for:"email"}},[e._v("請輸入email帳號")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],staticClass:"form-control",class:{"is-invalid":n,"is-valid":o},attrs:{id:"email",type:"email",placeholder:"帳號",autofocus:""},domProps:{value:e.user.username},on:{input:function(t){t.target.composing||e.$set(e.user,"username",t.target.value)}}}),e._v(" "),n?r("span",{staticClass:"text-danger"},[e._v(e._s(l[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),r("div",{staticClass:"form-group"},[r("ValidationProvider",{attrs:{name:"密碼",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.failed,o=t.passed,l=t.errors;return[r("label",{attrs:{for:"email"}},[e._v("請輸入密碼")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",class:{"is-invalid":n,"is-valid":o},attrs:{id:"password",type:"password",placeholder:"密碼"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}}),e._v(" "),n?r("span",{staticClass:"text-danger"},[e._v(e._s(l[0]))]):e._e()]}}],null,!0)})],1),e._v(" "),r("button",{staticClass:"btn btn-primary btn-full",attrs:{type:"submit"}},[e._v("\n            登入\n          ")])])]}}])})],1)],1)])}),[],!1,null,null,null);t.default=component.exports}}]);